{"remainingRequest":"/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/source-map-loader/index.js!/Users/jerms/Sites/workspace.sprucebot-skills-kit/packages/react-heartwood-components/src/components/ContextMenu/ContextMenu.js","dependencies":[{"path":"/Users/jerms/Sites/workspace.sprucebot-skills-kit/packages/react-heartwood-components/src/components/ContextMenu/ContextMenu.js","mtime":1561261878781},{"path":"/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jerms/Sites/workspace.sprucebot-skills-kit/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20gIi9Vc2Vycy9qZXJtcy9TaXRlcy93b3Jrc3BhY2Uuc3BydWNlYm90LXNraWxscy1raXQvbm9kZV9tb2R1bGVzL2RvY3otY29yZS9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9qZXJtcy9TaXRlcy93b3Jrc3BhY2Uuc3BydWNlYm90LXNraWxscy1raXQvbm9kZV9tb2R1bGVzL2RvY3otY29yZS9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvamVybXMvU2l0ZXMvd29ya3NwYWNlLnNwcnVjZWJvdC1za2lsbHMta2l0L25vZGVfbW9kdWxlcy9kb2N6LWNvcmUvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvamVybXMvU2l0ZXMvd29ya3NwYWNlLnNwcnVjZWJvdC1za2lsbHMta2l0L25vZGVfbW9kdWxlcy9kb2N6LWNvcmUvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIi9Vc2Vycy9qZXJtcy9TaXRlcy93b3Jrc3BhY2Uuc3BydWNlYm90LXNraWxscy1raXQvbm9kZV9tb2R1bGVzL2RvY3otY29yZS9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2plcm1zL1NpdGVzL3dvcmtzcGFjZS5zcHJ1Y2Vib3Qtc2tpbGxzLWtpdC9ub2RlX21vZHVsZXMvZG9jei1jb3JlL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIi9Vc2Vycy9qZXJtcy9TaXRlcy93b3Jrc3BhY2Uuc3BydWNlYm90LXNraWxscy1raXQvbm9kZV9tb2R1bGVzL2RvY3otY29yZS9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvamVybXMvU2l0ZXMvd29ya3NwYWNlLnNwcnVjZWJvdC1za2lsbHMta2l0L25vZGVfbW9kdWxlcy9kb2N6LWNvcmUvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvamVybXMvU2l0ZXMvd29ya3NwYWNlLnNwcnVjZWJvdC1za2lsbHMta2l0L25vZGVfbW9kdWxlcy9kb2N6LWNvcmUvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvamVybXMvU2l0ZXMvd29ya3NwYWNlLnNwcnVjZWJvdC1za2lsbHMta2l0L3BhY2thZ2VzL3JlYWN0LWhlYXJ0d29vZC1jb21wb25lbnRzL3NyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51LmpzIjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7CmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgQnV0dG9uIGZyb20gJy4uL0J1dHRvbi9CdXR0b24nOwppbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnLi4vQnV0dG9uR3JvdXAvQnV0dG9uR3JvdXAnOwoKdmFyIE1vcmVJY29uID0gZnVuY3Rpb24gTW9yZUljb24ocHJvcHMpIHsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgic3ZnIiwgX2V4dGVuZHMoe30sIHByb3BzLCB7CiAgICBfX3NlbGY6IHRoaXMKICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudCgicGF0aCIsIHsKICAgIGNsaXBSdWxlOiAiZXZlbm9kZCIsCiAgICBkOiAiTTMuMzc1IDE0LjY0OGEyLjYyNSAyLjYyNSAwIDEgMCAwLTUuMjUgMi42MjUgMi42MjUgMCAwIDAgMCA1LjI1ek0yMC42MjUgMTQuNjQ4YTIuNjI1IDIuNjI1IDAgMSAwIDAtNS4yNSAyLjYyNSAyLjYyNSAwIDAgMCAwIDUuMjV6TTEyIDE0LjY0OGEyLjYyNSAyLjYyNSAwIDEgMCAwLTUuMjUgMi42MjUgMi42MjUgMCAwIDAgMCA1LjI1eiIsCiAgICBzdHJva2VXaWR0aDogIjEuNSIsCiAgICBzdHJva2VMaW5lY2FwOiAicm91bmQiLAogICAgc3Ryb2tlTGluZWpvaW46ICJyb3VuZCIsCiAgICBfX3NlbGY6IHRoaXMKICB9KSk7Cn07CgpNb3JlSWNvbi5kZWZhdWx0UHJvcHMgPSB7CiAgd2lkdGg6ICIyNCIsCiAgaGVpZ2h0OiAiMjQiLAogIHZpZXdCb3g6ICIwIDAgMjQgMjQiLAogIHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCn07CgppZiAodHlwZW9mIFByb3BzICE9PSAndW5kZWZpbmVkJyAmJiBQcm9wcyAmJiBQcm9wcyA9PT0gT2JqZWN0KFByb3BzKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFByb3BzKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9wcywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIlByb3BzIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudS5qcyIKICAgIH0KICB9KTsKfQoKdmFyIENvbnRleHRNZW51ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhDb250ZXh0TWVudSwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIENvbnRleHRNZW51KHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRleHRNZW51KTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDb250ZXh0TWVudSkuY2FsbCh0aGlzLCBwcm9wcykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlZiIsIFJlYWN0LmNyZWF0ZVJlZigpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJtZW51UmVmIiwgUmVhY3QuY3JlYXRlUmVmKCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInBvcnRhbEVsIiwgUmVhY3QuY3JlYXRlUmVmKCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImRlYm91bmNlZFdpbmRvd1Jlc2l6ZSIsIGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpOwogICAgfSwgMjAwKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic3RhdGUiLCB7CiAgICAgIGlzVmlzaWJsZTogZmFsc2UsCiAgICAgIG92ZXJmbG93Qm90dG9tOiBmYWxzZSwKICAgICAgb3ZlcmZsb3dMZWZ0OiBmYWxzZSwKICAgICAgbWVudVBvc2l0aW9uOiB7CiAgICAgICAgdG9wOiBudWxsLAogICAgICAgIGxlZnQ6IG51bGwKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY29tcG9uZW50RGlkTW91bnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmdldE1lbnVQbGFjZW1lbnQoKTsKCiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUsIGZhbHNlKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY29tcG9uZW50V2lsbFVubW91bnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5oYW5kbGVDbGlja091dHNpZGUsIGZhbHNlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIF90aGlzLmhhbmRsZUVzY2FwZSwgZmFsc2UpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgX3RoaXMuZGVib3VuY2VkV2luZG93UmVzaXplLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVdpbmRvd1Jlc2l6ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGlzVmlzaWJsZSA9IF90aGlzLnN0YXRlLmlzVmlzaWJsZTsKCiAgICAgIGlmIChpc1Zpc2libGUpIHsKICAgICAgICBfdGhpcy51cGRhdGVNZW51UGxhY2VtZW50KCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdldFRyaWdnZXJQbGFjZW1lbnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0cmlnZ2VyUG9zaXRpb24gPSBfdGhpcy5yZWYuY3VycmVudCAmJiBfdGhpcy5yZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgIGlmICh0cmlnZ2VyUG9zaXRpb24pIHsKICAgICAgICByZXR1cm4gdHJpZ2dlclBvc2l0aW9uOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdldE1lbnVQbGFjZW1lbnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLAogICAgICAgICAgaXNSaWdodEFsaWduZWQgPSBfdGhpcyRwcm9wcy5pc1JpZ2h0QWxpZ25lZCwKICAgICAgICAgIGlzQm90dG9tQWxpZ25lZCA9IF90aGlzJHByb3BzLmlzQm90dG9tQWxpZ25lZDsKCiAgICAgIHZhciB0cmlnZ2VyUG9zaXRpb24gPSBfdGhpcy5nZXRUcmlnZ2VyUGxhY2VtZW50KCk7CgogICAgICBpZiAoIXRyaWdnZXJQb3NpdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG1lbnVQb3NpdGlvbiA9IHsKICAgICAgICB0b3A6IGlzQm90dG9tQWxpZ25lZCA/IHRyaWdnZXJQb3NpdGlvbi55IDogdHJpZ2dlclBvc2l0aW9uLnkgKyB0cmlnZ2VyUG9zaXRpb24uaGVpZ2h0LAogICAgICAgIGxlZnQ6IGlzUmlnaHRBbGlnbmVkID8gdHJpZ2dlclBvc2l0aW9uLnggKyB0cmlnZ2VyUG9zaXRpb24ud2lkdGggOiB0cmlnZ2VyUG9zaXRpb24ueAogICAgICB9OwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIG1lbnVQb3NpdGlvbjogbWVudVBvc2l0aW9uCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidXBkYXRlTWVudVBsYWNlbWVudCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjcm9sbFRvcCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogMDsKCiAgICAgIHZhciB0cmlnZ2VyUG9zaXRpb24gPSBfdGhpcy5nZXRUcmlnZ2VyUGxhY2VtZW50KCk7CgogICAgICB2YXIgbWVudUJveCA9IF90aGlzLm1lbnVSZWYgJiYgX3RoaXMubWVudVJlZi5jdXJyZW50ICYmIF90aGlzLm1lbnVSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgIHZhciBwb3J0YWxCb3ggPSBfdGhpcy5wb3J0YWxFbCAmJiBfdGhpcy5wb3J0YWxFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgIHZhciBvdmVyZmxvd0xlZnQgPSBmYWxzZTsKICAgICAgdmFyIG92ZXJmbG93Qm90dG9tID0gZmFsc2U7CiAgICAgIHZhciBuZXdUb3AgPSBudWxsOwogICAgICB2YXIgbmV3TGVmdCA9IG51bGw7CgogICAgICBpZiAobWVudUJveCAmJiBwb3J0YWxCb3ggJiYgdHJpZ2dlclBvc2l0aW9uKSB7CiAgICAgICAgaWYgKHRyaWdnZXJQb3NpdGlvbi54ICsgdHJpZ2dlclBvc2l0aW9uLndpZHRoICsgbWVudUJveC53aWR0aCA+IHBvcnRhbEJveC53aWR0aCkgewogICAgICAgICAgbmV3TGVmdCA9IHRyaWdnZXJQb3NpdGlvbi54ICsgdHJpZ2dlclBvc2l0aW9uLndpZHRoOwogICAgICAgICAgb3ZlcmZsb3dMZWZ0ID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV3TGVmdCA9IHRyaWdnZXJQb3NpdGlvbi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHNjcm9sbFRvcCArIHRyaWdnZXJQb3NpdGlvbi55ICsgdHJpZ2dlclBvc2l0aW9uLmhlaWdodCArIG1lbnVCb3guaGVpZ2h0ID4gc2Nyb2xsVG9wICsgcG9ydGFsQm94LmhlaWdodCkgewogICAgICAgICAgbmV3VG9wID0gc2Nyb2xsVG9wICsgdHJpZ2dlclBvc2l0aW9uLnk7CiAgICAgICAgICBvdmVyZmxvd0JvdHRvbSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5ld1RvcCA9IHNjcm9sbFRvcCArIHRyaWdnZXJQb3NpdGlvbi55ICsgdHJpZ2dlclBvc2l0aW9uLmhlaWdodDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgb3ZlcmZsb3dMZWZ0OiBvdmVyZmxvd0xlZnQsCiAgICAgICAgICBvdmVyZmxvd0JvdHRvbTogb3ZlcmZsb3dCb3R0b20sCiAgICAgICAgICBtZW51UG9zaXRpb246IHsKICAgICAgICAgICAgdG9wOiBuZXdUb3AgfHwgcHJldlN0YXRlLm1lbnVQb3NpdGlvbi50b3AsCiAgICAgICAgICAgIGxlZnQ6IG5ld0xlZnQgfHwgcHJldlN0YXRlLm1lbnVQb3NpdGlvbi5sZWZ0CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVDbGlja091dHNpZGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBpc1Zpc2libGU6IGZhbHNlCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMubWFuYWdlTGlzdGVuZXJzKCk7CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaGFuZGxlRXNjYXBlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGlzVmlzaWJsZTogZmFsc2UKICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMubWFuYWdlTGlzdGVuZXJzKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVRvZ2dsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpc1Zpc2libGU6ICFwcmV2U3RhdGUuaXNWaXNpYmxlCiAgICAgICAgfTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLm1hbmFnZUxpc3RlbmVycygpOwoKICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Ub2dnbGVDb250ZXh0TWVudVZpc2libGUpIHsKICAgICAgICAgIF90aGlzLnByb3BzLm9uVG9nZ2xlQ29udGV4dE1lbnVWaXNpYmxlKF90aGlzLnN0YXRlLmlzVmlzaWJsZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMuc3RhdGUuaXNWaXNpYmxlKSB7CiAgICAgICAgICBfdGhpcy51cGRhdGVNZW51UGxhY2VtZW50KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm1hbmFnZUxpc3RlbmVycyIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBpZiAoX3RoaXMuc3RhdGUuaXNWaXNpYmxlKSB7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBfdGhpcy5oYW5kbGVFc2NhcGUsIGZhbHNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5oYW5kbGVDbGlja091dHNpZGUsIGZhbHNlKTsKICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgX3RoaXMuaGFuZGxlRXNjYXBlLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVDbGlja0FjdGlvbiIsIGZ1bmN0aW9uIChwYXlsb2FkLCBjYWxsYmFjaykgewogICAgICBpZiAoX3RoaXMucHJvcHMuY2xvc2VPblNlbGVjdEFjdGlvbikgewogICAgICAgIF90aGlzLmhhbmRsZVRvZ2dsZSgpOwogICAgICB9CgogICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhwYXlsb2FkKTsKICAgIH0pOwoKICAgIF90aGlzLnBvcnRhbEVsID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENvbnRleHRNZW51LCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIGlzVmlzaWJsZSA9IF90aGlzJHN0YXRlLmlzVmlzaWJsZSwKICAgICAgICAgIG92ZXJmbG93Qm90dG9tID0gX3RoaXMkc3RhdGUub3ZlcmZsb3dCb3R0b20sCiAgICAgICAgICBvdmVyZmxvd0xlZnQgPSBfdGhpcyRzdGF0ZS5vdmVyZmxvd0xlZnQsCiAgICAgICAgICBtZW51UG9zaXRpb24gPSBfdGhpcyRzdGF0ZS5tZW51UG9zaXRpb247CiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgYWN0aW9ucyA9IF90aGlzJHByb3BzMi5hY3Rpb25zLAogICAgICAgICAgaXNSaWdodEFsaWduZWQgPSBfdGhpcyRwcm9wczIuaXNSaWdodEFsaWduZWQsCiAgICAgICAgICBpc0JvdHRvbUFsaWduZWQgPSBfdGhpcyRwcm9wczIuaXNCb3R0b21BbGlnbmVkLAogICAgICAgICAgaXNTaW1wbGUgPSBfdGhpcyRwcm9wczIuaXNTaW1wbGUsCiAgICAgICAgICBpc1NtYWxsID0gX3RoaXMkcHJvcHMyLmlzU21hbGwsCiAgICAgICAgICBzaXplID0gX3RoaXMkcHJvcHMyLnNpemUsCiAgICAgICAgICBpY29uID0gX3RoaXMkcHJvcHMyLmljb24sCiAgICAgICAgICB0ZXh0ID0gX3RoaXMkcHJvcHMyLnRleHQsCiAgICAgICAgICBpc1RleHRPbmx5ID0gX3RoaXMkcHJvcHMyLmlzVGV4dE9ubHksCiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczIuY2xhc3NOYW1lOwogICAgICB2YXIgYnV0dG9uQ2xhc3MgPSBjeCgnY29udGV4dC1tZW51JywgY2xhc3NOYW1lLCB7CiAgICAgICAgJ2NvbnRleHQtbWVudS0taXMtdmlzaWJsZSc6IGlzVmlzaWJsZQogICAgICB9KTsKICAgICAgdmFyIG1lbnVDbGFzcyA9IGN4KCdjb250ZXh0LW1lbnVfX21lbnUnLCB7CiAgICAgICAgJ2NvbnRleHQtbWVudV9fbWVudS1sZWZ0JzogaXNSaWdodEFsaWduZWQgfHwgb3ZlcmZsb3dMZWZ0LAogICAgICAgICdjb250ZXh0LW1lbnVfX21lbnUtbGFyZ2UnOiBzaXplID09PSAnbGFyZ2UnLAogICAgICAgICdjb250ZXh0LW1lbnVfX21lbnUtdG9wJzogaXNCb3R0b21BbGlnbmVkIHx8IG92ZXJmbG93Qm90dG9tCiAgICAgIH0pOwogICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3MsCiAgICAgICAgcmVmOiB0aGlzLnJlZiwKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDI4NQogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICAgICAga2luZDogaXNTaW1wbGUgPyAnc2ltcGxlJyA6ICcnLAogICAgICAgIGNsYXNzTmFtZTogImNvbnRleHQtbWVudV9fYnV0dG9uIiwKICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZVRvZ2dsZSwKICAgICAgICBpY29uOiAhaXNUZXh0T25seSAmJiAoaWNvbiB8fCB7CiAgICAgICAgICBjdXN0b21JY29uOiBNb3JlSWNvbiwKICAgICAgICAgIGlzTGluZUljb246IHRydWUKICAgICAgICB9KSwKICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgIGlzU21hbGw6IGlzU21hbGwsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiAyODYKICAgICAgICB9LAogICAgICAgIF9fc2VsZjogdGhpcwogICAgICB9KSwgaXNWaXNpYmxlICYmIHRoaXMucG9ydGFsRWwgJiYgY3JlYXRlUG9ydGFsKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6IG1lbnVDbGFzcywKICAgICAgICByZWY6IHRoaXMubWVudVJlZiwKICAgICAgICBzdHlsZTogewogICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICB0b3A6IG1lbnVQb3NpdGlvbi50b3AgPyAiIi5jb25jYXQobWVudVBvc2l0aW9uLnRvcCArIDQsICJweCIpIDogJ2F1dG8nLAogICAgICAgICAgbGVmdDogbWVudVBvc2l0aW9uLmxlZnQgPyAiIi5jb25jYXQobWVudVBvc2l0aW9uLmxlZnQgKyA0LCAicHgiKSA6ICdhdXRvJwogICAgICAgIH0sCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiAyOTkKICAgICAgICB9LAogICAgICAgIF9fc2VsZjogdGhpcwogICAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbkdyb3VwLCB7CiAgICAgICAga2luZDogImZsb2F0aW5nIiwKICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLm1hcChmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICAgICAgICB2YXIgYnRuQWN0aW9uID0gX29iamVjdFNwcmVhZCh7fSwgYWN0aW9uKTsKCiAgICAgICAgICB2YXIgb2xkT25jbGljayA9IGJ0bkFjdGlvbi5vbkNsaWNrOwoKICAgICAgICAgIGJ0bkFjdGlvbi5vbkNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuaGFuZGxlQ2xpY2tBY3Rpb24oYnRuQWN0aW9uLnBheWxvYWQsIG9sZE9uY2xpY2spOwogICAgICAgICAgfTsKCiAgICAgICAgICBidG5BY3Rpb24uY2xhc3NOYW1lID0gJ2NvbnRleHQtbWVudV9faXRlbS1idG4nOwogICAgICAgICAgcmV0dXJuIGJ0bkFjdGlvbjsKICAgICAgICB9KSwKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDMwOAogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgIH0pKSwgdGhpcy5wb3J0YWxFbCkpOwogICAgfQogIH0sIHsKICAgIGtleTogIl9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsIiwKICAgIC8vIEB0cy1pZ25vcmUKICAgIHZhbHVlOiBmdW5jdGlvbiBfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbChrZXksIGNvZGUpIHsKICAgICAgLy8gQHRzLWlnbm9yZQogICAgICB0aGlzW2tleV0gPSBldmFsKGNvZGUpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbnRleHRNZW51Owp9KENvbXBvbmVudCk7CgpfZGVmaW5lUHJvcGVydHkoQ29udGV4dE1lbnUsICJkZWZhdWx0UHJvcHMiLCB7CiAgaXNSaWdodEFsaWduZWQ6IGZhbHNlLAogIGlzQm90dG9tQWxpZ25lZDogZmFsc2UsCiAgaXNUZXh0T25seTogZmFsc2UsCiAgaXNTbWFsbDogZmFsc2UsCiAgY2xhc3NOYW1lOiAnJwp9KTsKCmV4cG9ydCB7IENvbnRleHRNZW51IGFzIGRlZmF1bHQgfTsKCmlmICh0eXBlb2YgQ29udGV4dE1lbnUgIT09ICd1bmRlZmluZWQnICYmIENvbnRleHRNZW51ICYmIENvbnRleHRNZW51ID09PSBPYmplY3QoQ29udGV4dE1lbnUpICYmIE9iamVjdC5pc0V4dGVuc2libGUoQ29udGV4dE1lbnUpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRleHRNZW51LCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiQ29udGV4dE1lbnUiLAogICAgICBmaWxlbmFtZTogInNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51LmpzIgogICAgfQogIH0pOwp9CgppZiAodHlwZW9mIENvbnRleHRNZW51ICE9PSAndW5kZWZpbmVkJyAmJiBDb250ZXh0TWVudSAmJiBDb250ZXh0TWVudSA9PT0gT2JqZWN0KENvbnRleHRNZW51KSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKENvbnRleHRNZW51KSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250ZXh0TWVudSwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIkNvbnRleHRNZW51IiwKICAgICAgZmlsZW5hbWU6ICJzcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudS5qcyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihDb250ZXh0TWVudSwgIkNvbnRleHRNZW51IiwgIi9Vc2Vycy9qZXJtcy9TaXRlcy93b3Jrc3BhY2Uuc3BydWNlYm90LXNraWxscy1raXQvcGFja2FnZXMvcmVhY3QtaGVhcnR3b29kLWNvbXBvbmVudHMvc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnUuanMiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/jerms/Sites/workspace.sprucebot-skills-kit/packages/react-heartwood-components/src/components/ContextMenu/ContextMenu.js"],"names":["React","Component","createPortal","cx","debounce","Button","ButtonGroup","ContextMenu","props","createRef","handleWindowResize","isVisible","overflowBottom","overflowLeft","menuPosition","top","left","getMenuPlacement","window","addEventListener","debouncedWindowResize","document","removeEventListener","handleClickOutside","handleEscape","state","updateMenuPlacement","triggerPosition","ref","current","getBoundingClientRect","isRightAligned","isBottomAligned","getTriggerPlacement","y","height","x","width","setState","scrollTop","documentElement","menuBox","menuRef","portalBox","portalEl","newTop","newLeft","prevState","manageListeners","e","key","onToggleContextMenuVisible","payload","callback","closeOnSelectAction","handleToggle","body","actions","isSimple","isSmall","size","icon","text","isTextOnly","className","buttonClass","menuClass","customIcon","MoreIcon","isLineIcon","position","map","action","btnAction","oldOnclick","onClick","handleClickAction"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component } from 'react'\nimport { createPortal } from 'react-dom'\nimport cx from 'classnames'\nimport { debounce } from 'lodash'\nimport Button from '../Button/Button'\nimport type { Props as ButtonProps } from '../Button/Button'\nimport ButtonGroup from '../ButtonGroup/ButtonGroup'\n\nimport MoreIcon from '../../../static/assets/icons/Interface-Essential/Menu/navigation-menu-horizontal.svg'\n\nexport type Props = {\n\t/** The actions to be shown on tap/click */\n\tactions: Array<ButtonProps>,\n\n\t/** DEPRECATED Set true to left align the menu */\n\tisLeftAligned?: boolean,\n\n\t/** DEPRECATED Set true to right align the menu */\n\tisRightAligned?: boolean,\n\n\t/** DEPRECATED Set true to align menu above button */\n\tisBottomAligned?: boolean,\n\n\t/** Set the width of the menu. Helpful for longer text in buttons */\n\tsize?: 'medium' | 'large',\n\n\t/** Adds text to the collapsed menu */\n\t// NOTE: This should be required for accessibility\n\ttext?: string,\n\n\t/** Overrides the default icon */\n\ticon?: any,\n\n\t/** Set true to make the button blue */\n\tisSimple?: boolean,\n\n\t/** Set true to make the button smaller */\n\tisSmall?: boolean,\n\n\t/** Set tot true makes the menu close when any action is selected */\n\tcloseOnSelectAction: boolean,\n\n\t/** Hide the icon entirely */\n\tisTextOnly: boolean,\n\n\t/** Optional classname that applies to the button */\n\tclassName?: string,\n\n\tonToggleContextMenuVisible?: Function\n}\n\ntype State = {\n\t/** Show the menu */\n\tisVisible: boolean,\n\n\t/** Where the menu should be positioned when visible */\n\tmenuPosition: Object,\n\n\toverflowBottom: boolean,\n\toverflowLeft: boolean\n}\n\nexport default class ContextMenu extends Component<Props, State> {\n\tref = React.createRef()\n\tmenuRef = React.createRef()\n\tportalEl = React.createRef()\n\tdebouncedWindowResize = debounce(() => this.handleWindowResize(), 200)\n\tstate = {\n\t\tisVisible: false,\n\t\toverflowBottom: false,\n\t\toverflowLeft: false,\n\t\tmenuPosition: {\n\t\t\ttop: null,\n\t\t\tleft: null\n\t\t}\n\t}\n\n\tstatic defaultProps = {\n\t\tisRightAligned: false,\n\t\tisBottomAligned: false,\n\t\tisTextOnly: false,\n\t\tisSmall: false,\n\t\tclassName: ''\n\t}\n\n\tconstructor(props: Props) {\n\t\tsuper(props)\n\n\t\tthis.portalEl = typeof document !== 'undefined' && document && document.body\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.getMenuPlacement()\n\t\tif (typeof window !== 'undefined') {\n\t\t\twindow.addEventListener('resize', this.debouncedWindowResize, false)\n\t\t}\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tif (typeof document !== 'undefined') {\n\t\t\tdocument.removeEventListener('click', this.handleClickOutside, false)\n\t\t\tdocument.removeEventListener('keyup', this.handleEscape, false)\n\t\t}\n\t\tif (typeof window !== 'undefined') {\n\t\t\twindow.removeEventListener('resize', this.debouncedWindowResize, false)\n\t\t}\n\t}\n\n\thandleWindowResize = () => {\n\t\tconst { isVisible } = this.state\n\t\tif (isVisible) {\n\t\t\tthis.updateMenuPlacement()\n\t\t}\n\t}\n\n\tgetTriggerPlacement = () => {\n\t\tconst triggerPosition =\n\t\t\tthis.ref.current && this.ref.current.getBoundingClientRect()\n\n\t\tif (triggerPosition) {\n\t\t\treturn triggerPosition\n\t\t}\n\n\t\treturn null\n\t}\n\n\tgetMenuPlacement = () => {\n\t\tconst { isRightAligned, isBottomAligned } = this.props\n\t\tconst triggerPosition = this.getTriggerPlacement()\n\n\t\tif (!triggerPosition) {\n\t\t\treturn\n\t\t}\n\t\tconst menuPosition = {\n\t\t\ttop: isBottomAligned\n\t\t\t\t? triggerPosition.y\n\t\t\t\t: triggerPosition.y + triggerPosition.height,\n\t\t\tleft: isRightAligned\n\t\t\t\t? triggerPosition.x + triggerPosition.width\n\t\t\t\t: triggerPosition.x\n\t\t}\n\n\t\tthis.setState({\n\t\t\tmenuPosition\n\t\t})\n\t}\n\n\tupdateMenuPlacement = () => {\n\t\tconst scrollTop =\n\t\t\ttypeof document !== 'undefined' &&\n\t\t\tdocument &&\n\t\t\tdocument.documentElement &&\n\t\t\tdocument.documentElement.scrollTop\n\t\t\t\t? document.documentElement.scrollTop\n\t\t\t\t: 0\n\t\tconst triggerPosition = this.getTriggerPlacement()\n\t\tconst menuBox =\n\t\t\tthis.menuRef &&\n\t\t\tthis.menuRef.current &&\n\t\t\tthis.menuRef.current.getBoundingClientRect()\n\t\tconst portalBox = this.portalEl && this.portalEl.getBoundingClientRect()\n\t\tlet overflowLeft = false\n\t\tlet overflowBottom = false\n\t\tlet newTop = null\n\t\tlet newLeft = null\n\n\t\tif (menuBox && portalBox && triggerPosition) {\n\t\t\tif (\n\t\t\t\ttriggerPosition.x + triggerPosition.width + menuBox.width >\n\t\t\t\tportalBox.width\n\t\t\t) {\n\t\t\t\tnewLeft = triggerPosition.x + triggerPosition.width\n\t\t\t\toverflowLeft = true\n\t\t\t} else {\n\t\t\t\tnewLeft = triggerPosition.x\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tscrollTop +\n\t\t\t\t\ttriggerPosition.y +\n\t\t\t\t\ttriggerPosition.height +\n\t\t\t\t\tmenuBox.height >\n\t\t\t\tscrollTop + portalBox.height\n\t\t\t) {\n\t\t\t\tnewTop = scrollTop + triggerPosition.y\n\t\t\t\toverflowBottom = true\n\t\t\t} else {\n\t\t\t\tnewTop = scrollTop + triggerPosition.y + triggerPosition.height\n\t\t\t}\n\t\t}\n\n\t\tthis.setState(prevState => ({\n\t\t\toverflowLeft,\n\t\t\toverflowBottom,\n\t\t\tmenuPosition: {\n\t\t\t\ttop: newTop || prevState.menuPosition.top,\n\t\t\t\tleft: newLeft || prevState.menuPosition.left\n\t\t\t}\n\t\t}))\n\t}\n\n\thandleClickOutside = () => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisVisible: false\n\t\t\t},\n\t\t\t() => this.manageListeners()\n\t\t)\n\t}\n\n\thandleEscape = (e: any) => {\n\t\tif (e.key === 'Escape') {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tisVisible: false\n\t\t\t\t},\n\t\t\t\t() => this.manageListeners()\n\t\t\t)\n\t\t}\n\t}\n\n\thandleToggle = () => {\n\t\tthis.setState(\n\t\t\tprevState => ({\n\t\t\t\tisVisible: !prevState.isVisible\n\t\t\t}),\n\t\t\t() => {\n\t\t\t\tthis.manageListeners()\n\n\t\t\t\tif (this.props.onToggleContextMenuVisible) {\n\t\t\t\t\tthis.props.onToggleContextMenuVisible(this.state.isVisible)\n\t\t\t\t}\n\n\t\t\t\tif (this.state.isVisible) {\n\t\t\t\t\tthis.updateMenuPlacement()\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t}\n\n\tmanageListeners = () => {\n\t\tif (typeof document !== 'undefined') {\n\t\t\tif (this.state.isVisible) {\n\t\t\t\tdocument.addEventListener('click', this.handleClickOutside, false)\n\t\t\t\tdocument.addEventListener('keyup', this.handleEscape, false)\n\t\t\t} else {\n\t\t\t\tdocument.removeEventListener('click', this.handleClickOutside, false)\n\t\t\t\tdocument.removeEventListener('keyup', this.handleEscape, false)\n\t\t\t}\n\t\t}\n\t}\n\n\thandleClickAction = (payload, callback) => {\n\t\tif (this.props.closeOnSelectAction) {\n\t\t\tthis.handleToggle()\n\t\t}\n\t\tcallback && callback(payload)\n\t}\n\n\trender() {\n\t\tconst { isVisible, overflowBottom, overflowLeft, menuPosition } = this.state\n\t\tconst {\n\t\t\tactions,\n\t\t\tisRightAligned,\n\t\t\tisBottomAligned,\n\t\t\tisSimple,\n\t\t\tisSmall,\n\t\t\tsize,\n\t\t\ticon,\n\t\t\ttext,\n\t\t\tisTextOnly,\n\t\t\tclassName\n\t\t} = this.props\n\t\tconst buttonClass = cx('context-menu', className, {\n\t\t\t'context-menu--is-visible': isVisible\n\t\t})\n\t\tconst menuClass = cx('context-menu__menu', {\n\t\t\t'context-menu__menu-left': isRightAligned || overflowLeft,\n\t\t\t'context-menu__menu-large': size === 'large',\n\t\t\t'context-menu__menu-top': isBottomAligned || overflowBottom\n\t\t})\n\n\t\treturn (\n\t\t\t<div className={buttonClass} ref={this.ref}>\n\t\t\t\t<Button\n\t\t\t\t\tkind={isSimple ? 'simple' : ''}\n\t\t\t\t\tclassName=\"context-menu__button\"\n\t\t\t\t\tonClick={this.handleToggle}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t!isTextOnly && (icon || { customIcon: MoreIcon, isLineIcon: true })\n\t\t\t\t\t}\n\t\t\t\t\ttext={text}\n\t\t\t\t\tisSmall={isSmall}\n\t\t\t\t/>\n\t\t\t\t{isVisible &&\n\t\t\t\t\tthis.portalEl &&\n\t\t\t\t\tcreatePortal(\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={menuClass}\n\t\t\t\t\t\t\tref={this.menuRef}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\ttop: menuPosition.top ? `${menuPosition.top + 4}px` : 'auto',\n\t\t\t\t\t\t\t\tleft: menuPosition.left ? `${menuPosition.left + 4}px` : 'auto'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\t\t\tkind=\"floating\"\n\t\t\t\t\t\t\t\tactions={actions.map(action => {\n\t\t\t\t\t\t\t\t\tconst btnAction = { ...action }\n\t\t\t\t\t\t\t\t\tconst oldOnclick = btnAction.onClick\n\t\t\t\t\t\t\t\t\tbtnAction.onClick = () => {\n\t\t\t\t\t\t\t\t\t\tthis.handleClickAction(btnAction.payload, oldOnclick)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbtnAction.className = 'context-menu__item-btn'\n\t\t\t\t\t\t\t\t\treturn btnAction\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t\tthis.portalEl\n\t\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n"]}]}